
<div id="container">
    <app-detalle-partida/>
    <app-tablero/>
</div>

<app-modal-fullscreen [mostrar]="mostrarModal()">
    @switch (salaService.estado()) {
        @case ("ESPERANDO_COMPAÃ‘ERO") {
            <h2 primario>Esperando Contrincante</h2>
        }
        @case ("VICTORIA_P1") {
            <h2 primario>JUGADOR 1 GANÃ“ LA RONDA</h2>
        }
        @case ("VICTORIA_P2") {
            <h2 primario>JUGADOR 2 GANÃ“ LA RONDA</h2>
        }
        @case ("VICTORIA_FINAL_P1") {
            <h2 primario>JUGADOR 1 GANÃ“ LA PARTIDA</h2>
        }
        @case ("VICTORIA_FINAL_P2") {
            <h2 primario>JUGADOR 2 GANÃ“ LA PARTIDA</h2>
        }
        @case ("EMPATE") {
            <h2 primario>EMPATE</h2>
        }
        @case ("ABANDONADO") {
            <h2 primario>El contrincante abandonÃ³ la partida</h2>
        }
    }

    @switch (salaService.estado()) {
        @case ("ESPERANDO_COMPAÃ‘ERO") {
            <p secundario><img src="loadingDots.svg" alt=""></p>
        }
        @case ("VICTORIA_P1") {
            <button secundario (click)="nuevaRonda()" class="boton">Nueva Ronda</button>
        }
        @case ("VICTORIA_P2") {
            <button secundario (click)="nuevaRonda()" class="boton">Nueva Ronda</button>
        }
        @case ("VICTORIA_FINAL_P1") {
            <button secundario (click)="nuevaRonda()" class="boton">Nueva Partida</button>
        }
        @case ("VICTORIA_FINAL_P2") {
            <button secundario (click)="nuevaRonda()" class="boton">Nueva Partida</button>
        }
        @case ("EMPATE") {
            <button secundario (click)="nuevaRonda()" class="boton">Nueva Ronda</button>
        }
        @case ("ABANDONADO") {
            <a secundario class="boton" [routerLink]="['/']">Salir de la sala</a>
        }
    }

    @if (!salaService.publica() && this.estadoAnterior() === "ESPERANDO_COMPAÃ‘ERO") {
        <div pie>
            @if (linkCopiado()) {
                <span>âœ” Copiado!</span>
            }
            <button id="boton-copiar" (click)="copiarLink()" class="boton">
                ðŸ”—
                <small>Copiar Link de InvitaciÃ³n</small>
            </button>
        </div>
    }

</app-modal-fullscreen>
